---
import Base from "../layouts/Base.astro";
const items = Object.entries(responses); // [["Master","..."],["Closer","..."],["APlus","..."]]
---

<Base title="Response Library">
  <section class="mx-auto max-w-3xl px-4 py-8">
    <h1 class="text-3xl font-bold mb-6">Response Library</h1>

    {items.map(([label, text]) => (
      <article class="mb-8 border rounded-lg p-4 bg-white/70">
        <h2 class="text-xl font-semibold mb-3">{label} Response</h2>
        <textarea
          readonly
          class="w-full h-40 p-3 border rounded mb-3 font-mono text-sm"
        >{text}</textarea>
        <button
          class="px-4 py-2 rounded bg-blue-600 text-white"
          data-copy={text}
        >Copy</button>
      </article>
    ))}
  </section>

  <script>
    // Simple copy-to-clipboard for the buttons
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('button[data-copy]');
      if (!btn) return;
      navigator.clipboard.writeText(btn.getAttribute('data-copy') || '');
      btn.textContent = 'Copied!';
      setTimeout(() => (btn.textContent = 'Copy'), 1200);
    });
  </script>
</Base>
