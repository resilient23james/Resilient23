---
/**
 * Responsive header with logo, desktop nav, and collapsible mobile menu.
 * Links: Services, Careers, Contact, Subcontractors
 */
---

<header class="sticky top-0 z-40 bg-white/95 backdrop-blur border-b border-gray-100">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <!-- Bar -->
    <div class="flex items-center justify-between py-3">
      <!-- Brand -->
      <a href="/" class="flex items-center gap-2 shrink-0">
        <!-- Update the src if your logo lives elsewhere -->
        <img src="/logo.png" alt="Resilient Logo" class="h-8 w-auto" />
        <span class="text-xl font-extrabold tracking-tight text-slate-900">Resilient</span>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center gap-8 text-[15px] font-medium text-slate-700">
        <a href="/services" class="hover:text-slate-900">Services</a>
        <a href="/careers" class="hover:text-slate-900">Careers</a>
        <a href="/contact" class="hover:text-slate-900">Contact</a>
        <a href="/subcontractors" class="hover:text-slate-900">Subcontractors</a>
      </nav>

      <!-- Mobile Button -->
      <button
        id="menu-toggle"
        aria-label="Toggle menu"
        class="md:hidden inline-flex items-center gap-2 rounded-md border border-slate-300 px-3 py-2 text-[15px] font-semibold text-slate-800 hover:bg-slate-50"
      >
        Menu
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3 5h14v2H3V5zm0 4h14v2H3V9zm0 4h14v2H3v-2z" clip-rule="evenodd" />
        </svg>
      </button>
    </div>

    <!-- Mobile Nav -->
    <nav
      id="mobile-menu"
      class="md:hidden hidden flex-col gap-2 pb-4 text-[16px] font-medium text-slate-700"
    >
      <a href="/services" class="rounded-md px-2 py-2 hover:bg-slate-50">Services</a>
      <a href="/careers" class="rounded-md px-2 py-2 hover:bg-slate-50">Careers</a>
      <a href="/contact" class="rounded-md px-2 py-2 hover:bg-slate-50">Contact</a>
      <a href="/subcontractors" class="rounded-md px-2 py-2 hover:bg-slate-50">Subcontractors</a>
    </nav>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("menu-toggle");
      const menu = document.getElementById("mobile-menu");

      btn?.addEventListener("click", () => {
        menu?.classList.toggle("hidden");
      });

      // Close the mobile menu after clicking any link
      menu?.querySelectorAll("a").forEach((a) =>
        a.addEventListener("click", () => menu.classList.add("hidden"))
      );
    });
  </script>
</header>
